"use strict";angular.module("snailbox",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(o,t){o.state("login",{url:"/login",templateUrl:"./app/features/login/loginTmpl.html",controller:"loginCtrl as loginCtrl"}).state("signup",{url:"/signup",templateUrl:"./app/features/signup/signupTmpl.html",controller:"signupCtrl as signupCtrl"}).state("userHome",{url:"/user/:id",templateUrl:"./app/features/userHome/userHomeTmpl.html",controller:"userHomeCtrl as userHomeCtrl"}),t.otherwise("/login")}]),angular.module("snailbox").constant("API",{SERVER_LOCAL_MDB:"http://localhost:4800/api/v1/",SERVER_HEROKU:"http://snailbox-api.herokuapp.com/api/v1/"}),angular.module("snailbox").service("authService",["$http","API",function(o,t){this.login=function(r){return console.log("sending data on service",r),o({method:"POST",url:t.SERVER_HEROKU+"login",dataType:"json",data:r}).then(function(o){return o.data})["catch"](function(o){return o.data})}}]),angular.module("snailbox").controller("loginCtrl",["$state","authService",function(o,t){var r=this;r.loading=!1,r.error=!1,r.goToSignup=function(){o.go("signup")},r.submitLoginForm=function(o){return r.error=!1,o?(r.loading=!0,void t.login(r.data).then(function(o){console.log("loginResponse",o),r.loading=!1,"Login Success"!==o.message&&(r.error=!0,r.data.password="")})):(console.log("Error - form not valid"),!1)}}]),angular.module("snailbox").controller("signupCtrl",["$state",function(o){var t=this;t.goToLogin=function(){o.go("login")}}]),angular.module("snailbox").controller("userHomeCtrl",function(){var o=this;o.test="If you can read this, your userHomeCtrl is set up correctly :)",console.log("userHomeCtrl.test ==>> ",o.test)});