<section class="user-home-wrapper">

  <div class="review-container flex-base-col-center">
    <section class="review-user-section">
      <div class="review-user-section-title flex-base-row-start default-cursor">
        <img src="../assets/mailbox-down-icon.svg" alt="Review">
        <p>Received Requests</p>
        <user-header></user-header>
      </div>

      <div class="loading-container flex-base-col-center" ng-show="reviewCtrl.loading">
        <div class="sk-fading-circle">
          <div class="sk-circle1 sk-circle"></div>
          <div class="sk-circle2 sk-circle"></div>
          <div class="sk-circle3 sk-circle"></div>
          <div class="sk-circle4 sk-circle"></div>
          <div class="sk-circle5 sk-circle"></div>
          <div class="sk-circle6 sk-circle"></div>
          <div class="sk-circle7 sk-circle"></div>
          <div class="sk-circle8 sk-circle"></div>
          <div class="sk-circle9 sk-circle"></div>
          <div class="sk-circle10 sk-circle"></div>
          <div class="sk-circle11 sk-circle"></div>
          <div class="sk-circle12 sk-circle"></div>
        </div>
      </div>

      <div class="review-content-container flex-base-col-start default-cursor" ng-hide="reviewCtrl.loading" >
        <div class="content-row flex-base-row-start">
          <!--<img src="../assets/lock-icon.svg" alt="">-->
          <p style="font-size: 14px; font-weight: 100;" ng-show="!reviewCtrl.loading && reviewCtrl.received.length > 0"> Check box and click 'Save' to connect and enable address sharing with selected users.</p>
          <p style="font-size: 16px;" ng-hide="!reviewCtrl.loading && reviewCtrl.received.length > 0"> No requests to review.</p>
        </div>

        <div class="request-row flex-base-row-start"
             ng-repeat="invite in reviewCtrl.received track by $index"
             ng-click="reviewCtrl.selectUser(invite.selected, invite, this)">
          <img src="../assets/checkbox-unchecked.svg" alt="checkbox-unchecked" ng-show="!invite.selected">
          <img src="../assets/checkbox-checked.svg" alt="checkbox-checked" ng-show="invite.selected">
          <div class="request-info">
            <div class="info-col">
              <p class="name">{{invite.firstName}} {{ invite.lastName }}</p>
            </div>
            <div class="info-col">
              <p class="email">{{ invite.email }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="review-buttons-container flex-base-row-start" ng-if="!reviewCtrl.loading && reviewCtrl.received.length > 0">
        <div class="btn cancel-btn flex-base-col-center" ng-click="reviewCtrl.cancel()">
          <p>Cancel</p>
        </div>
        <div class="btn flex-base-col-center" ng-click="reviewCtrl.acceptInvites()">
          <p>Save</p>
        </div>
      </div>
    </section>

    <section class="review-user-section">
      <div class="review-user-section-title flex-base-row-start default-cursor">
        <img src="../assets/mailbox-up-icon.svg" alt="Review">
        <p>Sent Requests</p>
        <user-header></user-header>
      </div>

      <div class="loading-container flex-base-col-center" ng-show="reviewCtrl.loading">
        <div class="sk-fading-circle">
          <div class="sk-circle1 sk-circle"></div>
          <div class="sk-circle2 sk-circle"></div>
          <div class="sk-circle3 sk-circle"></div>
          <div class="sk-circle4 sk-circle"></div>
          <div class="sk-circle5 sk-circle"></div>
          <div class="sk-circle6 sk-circle"></div>
          <div class="sk-circle7 sk-circle"></div>
          <div class="sk-circle8 sk-circle"></div>
          <div class="sk-circle9 sk-circle"></div>
          <div class="sk-circle10 sk-circle"></div>
          <div class="sk-circle11 sk-circle"></div>
          <div class="sk-circle12 sk-circle"></div>
        </div>
      </div>

      <div class="review-content-container flex-base-col-start default-cursor" ng-hide="reviewCtrl.loading" >
        <div class="content-row flex-base-row-start">
          <p style="font-size: 16px;" ng-show="!reviewCtrl.loading && reviewCtrl.sent.length > 0"> Click 'X' to delete request. Request will no longer be available to user. </p>
          <p style="font-size: 16px;" ng-hide="!reviewCtrl.loading && reviewCtrl.sent.length > 0"> No sent requests.</p>
        </div>

        <div class="request-row flex-base-row-start"
             ng-repeat="sentInvite in reviewCtrl.sent track by $index">
          <img class="delete-sent-request" src="../assets/remove.svg" alt="remove" ng-click="reviewCtrl.deleteSentRequest(this.sentInvite._id)">
          <div class="request-info">
            <div class="info-col">
              <p class="name">{{sentInvite.firstName}} {{ sentInvite.lastName }}</p>
            </div>
            <div class="info-col">
              <p class="email">{{ sentInvite.email }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</section>